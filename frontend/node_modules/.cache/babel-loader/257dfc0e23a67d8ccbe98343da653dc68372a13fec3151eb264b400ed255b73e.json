{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../services/api';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Dashboard(){const[user,setUser]=useState(null);const[error,setError]=useState(null);useEffect(()=>{let mounted=true;api.get('/current_user')// adjust to your API's user endpoint\n.then(res=>{if(!mounted)return;setUser(res.data);}).catch(err=>{var _err$response;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);});return()=>{mounted=false;};},[]);const handleLogout=()=>{localStorage.removeItem('token');window.location.href='/';};if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",JSON.stringify(error)]});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard (Protected)\"}),user?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",user.email]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]});}","map":{"version":3,"names":["React","useEffect","useState","api","jsxs","_jsxs","jsx","_jsx","Dashboard","user","setUser","error","setError","mounted","get","then","res","data","catch","err","_err$response","response","message","handleLogout","localStorage","removeItem","window","location","href","children","JSON","stringify","email","onClick"],"sources":["/home/saad/APIsPra/BizmindClone/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport api from '../services/api'\n\nexport default function Dashboard() {\n  const [user, setUser] = useState(null)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    let mounted = true\n    api.get('/current_user') // adjust to your API's user endpoint\n      .then(res => {\n        if (!mounted) return\n        setUser(res.data)\n      })\n      .catch(err => {\n        setError(err.response?.data || err.message)\n      })\n    return () => { mounted = false }\n  }, [])\n\n  const handleLogout = () => {\n    localStorage.removeItem('token')\n    window.location.href = '/'\n  }\n\n  if (error) return <div>Error: {JSON.stringify(error)}</div>\n  return (\n    <div>\n      <h2>Dashboard (Protected)</h2>\n      {user ? (\n        <div>\n          <p>Welcome, {user.email}</p>\n          <button onClick={handleLogout}>Logout</button>\n        </div>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </div>\n  )\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,iBAAiB,QAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEjC,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,GAAI,CAAAY,OAAO,CAAG,IAAI,CAClBV,GAAG,CAACW,GAAG,CAAC,eAAe,CAAE;AAAA,CACtBC,IAAI,CAACC,GAAG,EAAI,CACX,GAAI,CAACH,OAAO,CAAE,OACdH,OAAO,CAACM,GAAG,CAACC,IAAI,CAAC,CACnB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,EAAI,KAAAC,aAAA,CACZR,QAAQ,CAAC,EAAAQ,aAAA,CAAAD,GAAG,CAACE,QAAQ,UAAAD,aAAA,iBAAZA,aAAA,CAAcH,IAAI,GAAIE,GAAG,CAACG,OAAO,CAAC,CAC7C,CAAC,CAAC,CACJ,MAAO,IAAM,CAAET,OAAO,CAAG,KAAK,CAAC,CAAC,CAClC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,YAAY,CAAGA,CAAA,GAAM,CACzBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC5B,CAAC,CAED,GAAIjB,KAAK,CAAE,mBAAON,KAAA,QAAAwB,QAAA,EAAK,SAAO,CAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAAC,EAAM,CAAC,CAC3D,mBACEN,KAAA,QAAAwB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,uBAAqB,CAAI,CAAC,CAC7BpB,IAAI,cACHJ,KAAA,QAAAwB,QAAA,eACExB,KAAA,MAAAwB,QAAA,EAAG,WAAS,CAACpB,IAAI,CAACuB,KAAK,EAAI,CAAC,cAC5BzB,IAAA,WAAQ0B,OAAO,CAAEV,YAAa,CAAAM,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC3C,CAAC,cAENtB,IAAA,MAAAsB,QAAA,CAAG,YAAU,CAAG,CACjB,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}